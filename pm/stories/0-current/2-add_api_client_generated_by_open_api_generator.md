# Add api client generated by open api generator

## Overview
Establish type-safe communication between the NestJS API and React web client 
by implementing Swagger documentation and generating a TypeScript API client 
directly in the web app. This approach is compatible with Firebase Functions 
deployment and will improve developer experience, reduce runtime errors, and 
ensure API contract compliance.

## Tasks

### Core Implementation
 - [x] **Add swagger to the api package**
   - [x] Install `@nestjs/swagger` package
   - [x] Configure Swagger module in `app.module.ts`
   - [x] Add API documentation decorators to controllers and DTOs
   - [x] Ensure swagger is available only in dev mode or firebase emulator
   - [x] Disable swagger completely in production environment
   - [x] Set up swagger UI endpoint (e.g., `/api/docs`)

 - [ ] **Set up API client generation in web package**
   - [ ] Install `@openapitools/openapi-generator-cli` as dev dependency in web package
   - [ ] Create generation script in root `scripts/` directory
   - [ ] Configure OpenAPI generator to use TypeScript-axios template
   - [ ] Generate client directly into `packages/web/src/lib/api-client/` directory
   - [ ] Add npm script to web package for client generation
   - [ ] Set up proper output directory structure within web package

 - [ ] **Configure git to ignore generated client**
   - [ ] Add `packages/web/src/lib/api-client/` to `.gitignore`
   - [ ] Ensure generated client code is excluded from version control
   - [ ] Document that client should be regenerated after API changes

 - [ ] **Update web package to use generated client**
   - [ ] Install axios dependency in web package for generated client
   - [ ] Replace manual API calls with generated client methods
   - [ ] Add proper error handling and loading states
   - [ ] Update existing components to use typed API responses

### Development Workflow & Quality Assurance
 - [ ] **Add validation and testing**
   - [ ] Create tests to validate generated client matches API contracts
   - [ ] Add type checking for API responses in web package
   - [ ] Set up basic integration tests using generated client

 - [ ] **Documentation and developer experience**
   - [ ] Document client regeneration process in README
   - [ ] Add npm scripts for easy client regeneration
   - [ ] Create developer guidelines for API changes and client updates
   - [ ] Add comments explaining when to regenerate client

### Implementation Details

**Swagger Configuration:**
- Environment: Development and Firebase emulator only
- Endpoint: `/api/docs`
- Security: Completely disabled in production

**Generated Client:**
- Language: TypeScript
- HTTP Client: Axios
- Location: `packages/web/src/lib/api-client/` (generated, not versioned)
- Output format: ES modules with TypeScript definitions
- Git: Excluded from version control via `.gitignore`

**Integration Points:**
- Web package imports from local `./lib/api-client`
- Client regenerated after API changes during development
- Shared types between API and client through generated code
- Error handling with proper TypeScript types

**Firebase Functions Compatibility:**
- No workspace dependencies to avoid Firebase Functions deployment issues
- Self-contained generation within each consuming application
- Independent package management per application
